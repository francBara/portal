import{a as C,d as G,r as m,b as j,s as $,c as i,e as t,f as k,u as c,R as I,w as h,F as b,g as y,_ as P,h as V,o as r,t as w,i as U,j as _,k as L,G as T,l as Z,m as A,n as B,p as D,q as R}from"./index-CEhtrUag.js";const W={getProjects:async()=>await C("GET","variables")},O=G("projects",()=>{const d=m([]),s=m(null);function o(l){d.value=l}function a(l){s.value=l}function p(l){d.value=d.value.filter(x=>x.projectName!==l)}async function v(){const l=await W.getProjects();o(l),l.length>0&&a(l[0])}async function n(l){}async function e(l){}return{projects:d,selectedProject:s,setProjects:o,setSelectedProject:a,removeProject:p,commitProject:n,pushProject:e,fetchProjects:v}}),X={class:"flex w-full flex-row items-center justify-between space-x-10 px-10 pt-3"},q={class:"flex items-center space-x-10"},F=["value"],Q={class:"px-6"},J={class:"flex items-center space-x-4"},K=j({__name:"NavBar",setup(d){const s=m(""),o=O(),{projects:a,selectedProject:p}=$(o);function v(n){const e=a.value.find(l=>l.projectName===n.target.value);e&&o.setSelectedProject(e)}return(n,e)=>(r(),i("div",X,[t("div",q,[k(c(I),{to:"/",class:"text-primary text-2xl font-bold"},{default:h(()=>e[4]||(e[4]=[V(" ðŸŒ ")])),_:1}),t("select",{class:"focus:ring-primary text-secondary rounded-4xl py-1 pl-2 text-sm font-semibold focus:ring-2 focus:outline-none",onChange:v},[(r(!0),i(b,null,y(c(a),l=>(r(),i("option",{key:l.projectName,value:l.projectName},w(l.projectName),9,F))),128))],32),t("div",Q,[k(P,{customClass:"rounded-full border-none",id:"search",type:"text",placeholder:"Search in the project...",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),onHandleSubmit:e[1]||(e[1]=()=>{n.$emit("search",s.value),s.value=""})},{"icon-right":h(()=>e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"10.5",cy:"10.5",r:"7"}),t("line",{x1:"21",y1:"21",x2:"15.8",y2:"15.8"})],-1)])),_:1},8,["modelValue"])])]),t("div",J,[(r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-200 hover:scale-100 active:-scale-x-100",onClick:e[2]||(e[2]=l=>c(o).commitProject(c(p)))},e[6]||(e[6]=[t("path",{d:"M13.25 5a.75.75 0 0 0-.75.75v2.5a.75.75 0 0 0 .75.75.75.75 0 0 0 .75-.75v-2.5a.75.75 0 0 0-.75-.75ZM6 3C4.352 3 3 4.352 3 6v12c0 1.648 1.352 3 3 3h12c1.648 0 3-1.352 3-3V7.5a.75.75 0 0 0-.219-.531l-3.75-3.75A.75.75 0 0 0 16.5 3H6.25zm1 1.5h8a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-.75.75H7a.75.75 0 0 1-.75-.75v-3.5A.75.75 0 0 1 7 4.5Zm0 7.75h10a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-.75.75H7a.75.75 0 0 1-.75-.75v-5a.75.75 0 0 1 .75-.75Z"},null,-1)]))),e[8]||(e[8]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-200 hover:scale-100 active:-scale-x-100"},[t("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),t("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z","clip-rule":"evenodd"})],-1)),(r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 97.707 95.907",fill:"currentColor","aria-hidden":"true",role:"img",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-200 hover:scale-100 active:-scale-x-100",onClick:e[3]||(e[3]=l=>c(o).pushProject(c(p)))},e[7]||(e[7]=[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"},null,-1)]))),e[9]||(e[9]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-200 hover:scale-100 active:-scale-x-100"},[t("path",{fill:"currentColor",d:"m12 5c-3.86 0-7 3.14-7 7s3.14 7 7 7 7-3.141 7-7-3.141-7-7-7zm0 11v-8c2.206 0 4 1.794 4 4s-1.794 4-4 4zm-1.5-14.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5zm3 21c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm-10.5-10.5c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm21 0c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm-6-7.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5zm-12 15c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm-3-15c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5zm18 15c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5z"})],-1)),e[10]||(e[10]=t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-300 hover:rotate-45 active:animate-spin"},[t("g",null,[t("path",{fill:"currentColor",d:"M34.283,384c17.646,30.626,56.779,41.148,87.405,23.502c0.021-0.012,0.041-0.024,0.062-0.036l9.493-5.483   c17.92,15.332,38.518,27.222,60.757,35.072V448c0,35.346,28.654,64,64,64s64-28.654,64-64v-10.944   c22.242-7.863,42.841-19.767,60.757-35.115l9.536,5.504c30.633,17.673,69.794,7.167,87.467-23.467   c17.673-30.633,7.167-69.794-23.467-87.467l0,0l-9.472-5.461c4.264-23.201,4.264-46.985,0-70.187l9.472-5.461   c30.633-17.673,41.14-56.833,23.467-87.467c-17.673-30.633-56.833-41.14-87.467-23.467l-9.493,5.483   C362.862,94.638,342.25,82.77,320,74.944V64c0-35.346-28.654-64-64-64s-64,28.654-64,64v10.944   c-22.242,7.863-42.841,19.767-60.757,35.115l-9.536-5.525C91.073,86.86,51.913,97.367,34.24,128s-7.167,69.794,23.467,87.467l0,0   l9.472,5.461c-4.264,23.201-4.264,46.985,0,70.187l-9.472,5.461C27.158,314.296,16.686,353.38,34.283,384z M256,170.667   c47.128,0,85.333,38.205,85.333,85.333S303.128,341.333,256,341.333S170.667,303.128,170.667,256S208.872,170.667,256,170.667z"})])],-1))])]))}}),Y={getVariables:async()=>await C("GET","variables")},M=G("variables",()=>{const d=m(null),s=m(null);function o(v){d.value=v}function a(v){s.value=v}async function p(){o(await Y.getVariables()),d.value!==null&&Object.keys(d.value).length>0&&a(Object.keys(d.value)[0])}return{variables:d,selectedView:s,setSelectedView:a,fetchVariables:p}}),ee={class:"text-secondary p-4 text-sm"},te=["onClick"],se={class:"ml-4 space-y-1"},le={class:"ml-2"},oe={class:"cursor-pointer"},re={class:"ml-4 space-y-1"},ae=j({__name:"GroupSelector",setup(d){const s=M(),{variables:o}=$(s);return(a,p)=>(r(),i("div",ee,[(r(!0),i(b,null,y(c(o),(v,n)=>(r(),i("div",{key:n},[t("h2",{class:"mb-2 cursor-pointer text-lg font-semibold",onClick:()=>c(s).setSelectedView(n)},w(n),9,te),t("ul",se,[(r(!0),i(b,null,y(v,(e,l)=>(r(),i("li",{key:l},[t("details",le,[t("summary",oe,w(l),1),t("ul",re,[(r(!0),i(b,null,y(e,(x,g)=>(r(),i("li",{key:g},w(x.displayName),1))),128))])])]))),128))])]))),128)),t("div",{class:"rainbow-animated mt-6 bg-gradient-to-r from-red-500 via-blue-500 via-green-500 via-yellow-500 to-purple-600 bg-clip-text text-xs font-bold text-transparent",onClick:p[0]||(p[0]=()=>{})}," Enter UI mode ")]))}}),ne=U(ae,[["__scopeId","data-v-33bcaaf7"]]),ie=j({__name:"Variable",props:{variable:{}},setup(d){return(s,o)=>s.variable.type==="string"?(r(),_(P,{key:0,id:s.variable.displayName,placeholder:s.variable.value.toString(),modelValue:s.variable.value.toString(),"onUpdate:modelValue":o[0]||(o[0]=a=>s.$emit("update:variable",a)),onHandleSubmit:o[1]||(o[1]=a=>s.$emit("handleSubmit"))},{default:h(()=>[V(w(s.variable.displayName),1)]),_:1},8,["id","placeholder","modelValue"])):s.variable.type==="integer"?(r(),_(P,{key:1,id:s.variable.displayName,type:"number",placeholder:s.variable.value.toString(),modelValue:s.variable.value.toString(),"onUpdate:modelValue":o[2]||(o[2]=a=>s.$emit("update:variable",parseInt(a))),onHandleSubmit:o[3]||(o[3]=a=>s.$emit("handleSubmit"))},{default:h(()=>[V(w(s.variable.displayName),1)]),_:1},8,["id","placeholder","modelValue"])):L("",!0)}}),E={getStatus:async()=>await C("GET","preview/status"),update:async d=>{await C("POST","preview/update",{body:d})}},ue={class:"mb-4 text-lg font-semibold"},ce={class:"text-secondary font-bold"},de={class:"my-3 ml-4 flex w-full flex-wrap gap-3"},ve=j({__name:"Editor",setup(d){const s=M(),{variables:o,selectedView:a}=$(s);return(p,v)=>(r(),_(T,{class:"rounded-l-xl"},{default:h(()=>[t("h2",ue,w(c(a)),1),(r(!0),i(b,null,y(c(o)[c(a)],(n,e)=>(r(),i("div",{key:e},[t("p",ce,w(e),1),t("ul",de,[(r(!0),i(b,null,y(n,(l,x)=>(r(),_(ie,{key:x,variable:l,"onUpdate:variable":g=>{l.value=g,c(o)&&c(E).update(c(o))},onHandleSubmit:v[0]||(v[0]=()=>c(o)&&c(E).update(c(o)))},{default:h(()=>[V(" >"+w(l.displayName),1)]),_:2},1032,["variable","onUpdate:variable"]))),128))])]))),128))]),_:1}))}}),pe={class:"flex flex-1 flex-col"},me={key:0,class:"flex h-full flex-1 items-center justify-center"},fe={key:1,class:"mx-4 my-4 flex flex-1 items-stretch"},we={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 flex-grow-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},xe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},be=j({__name:"Dashboard",setup(d){const s=m(""),o=M();R(),Z(()=>{o.fetchVariables()});const{variables:a}=$(o),p=m(200),v=m(400),n=m(null),e=m(!1),l=m(!1);function x(f){e.value=!e.value,p.value=e.value?0:200}function g(f,u){f===1&&e.value||f===2&&l.value||(n.value={col:f,startX:u.clientX,startWidth:f===1?p.value:v.value},document.addEventListener("mouseover",N),document.addEventListener("mouseup",z))}function N(f){if(!n.value)return;const u=f.clientX-n.value.startX;n.value.col===1?p.value=Math.max(100,n.value.startWidth+u):n.value.col===2&&(v.value=Math.max(100,n.value.startWidth+u))}function z(){document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",z),n.value=null}A(()=>{z()});const H=f=>{s.value=f,console.log("Search query:",s.value)};return(f,u)=>(r(),i("div",pe,[k(K,{onSearch:H}),!c(a)||Object.entries(c(a)).length===0?(r(),i("div",me,u[3]||(u[3]=[t("div",null,[t("h2",{class:"text-lg font-semibold"},"No projects available")],-1)]))):(r(),i("div",fe,[t("button",{class:"mt-5 flex w-6 cursor-pointer flex-col items-center justify-start self-start rounded-xl bg-transparent px-3 py-1 hover:bg-gray-300",onClick:u[0]||(u[0]=S=>x())},[e.value?(r(),i("svg",xe,u[5]||(u[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]))):(r(),i("svg",we,u[4]||(u[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},null,-1)])))]),t("div",{class:D(["flex flex-shrink-0 overflow-auto",n.value?"":"transition-[width] duration-300 ease-in-out"]),style:B({width:p.value+"px"})},[k(ne)],6),t("div",{class:"w-1 cursor-col-resize bg-transparent",onMousedown:u[1]||(u[1]=S=>g(1,S))},null,32),t("div",{class:"flex flex-shrink-0 overflow-auto",style:B({width:v.value+"px"})},[k(ve)],4),t("div",{class:"w-1 cursor-col-resize bg-transparent",onMousedown:u[2]||(u[2]=S=>g(2,S))},null,32),u[6]||(u[6]=t("div",{class:"flex-1 overflow-auto"},[t("iframe",{src:"http://localhost:3000",class:"h-full w-full rounded-r-xl"})],-1))]))]))}});export{be as default};
