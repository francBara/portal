import{u as P,d as M,r as h,a as k,s as $,c as u,b as t,e as j,f as x,R as B,w as b,F as g,g as y,_ as z,h as S,o as r,t as w,i as _,j as E,G as H,k as L,l as U,n as V}from"./index-DWpNbHwD.js";const Z=async()=>{const v=P(),s=v.token,o=v.user;if(!s||!o)throw new Error("No token found in auth store");return[await(await fetch("/variables.json")).json()]},C=M("projects",()=>{const v=h([]),s=h(null),o=h(null);function n(a){v.value=a}function f(a){s.value=a}function c(a){o.value=a}function l(a){v.value=v.value.filter(d=>d.projectName!==a)}async function e(){Z().then(a=>{n(a),a.length>0&&(f(a[0]),c(a[0].views[0]))})}async function i(a){}async function p(a){}return{projects:v,selectedProject:s,selectedView:o,setProjects:n,setSelectedProject:f,setSelectedView:c,removeProject:l,commitProject:i,pushProject:p,fetchProjects:e}}),D={class:"flex w-full flex-row items-center justify-between space-x-10 px-10 pt-3"},W={class:"flex items-center space-x-10"},X=["value"],A={class:"px-6"},G={class:"flex items-center space-x-4"},R=k({__name:"NavBar",setup(v){const s=h(""),o=C(),{projects:n,selectedProject:f}=$(o);function c(l){const e=n.value.find(i=>i.projectName===l.target.value);e&&o.setSelectedProject(e)}return(l,e)=>(r(),u("div",D,[t("div",W,[j(x(B),{to:"/",class:"text-primary text-2xl font-bold"},{default:b(()=>e[4]||(e[4]=[S(" ðŸŒ ")])),_:1}),t("select",{class:"focus:ring-primary text-secondary rounded-4xl py-1 pl-2 text-sm font-semibold focus:ring-2 focus:outline-none",onChange:c},[(r(!0),u(g,null,y(x(n),i=>(r(),u("option",{key:i.projectName,value:i.projectName},w(i.projectName),9,X))),128))],32),t("div",A,[j(z,{customClass:"rounded-full border-none",id:"search",type:"text",placeholder:"Search in the project...",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=i=>s.value=i),onHandleSubmit:e[1]||(e[1]=()=>{l.$emit("search",s.value),s.value=""})},{"icon-right":b(()=>e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"10.5",cy:"10.5",r:"7"}),t("line",{x1:"21",y1:"21",x2:"15.8",y2:"15.8"})],-1)])),_:1},8,["modelValue"])])]),t("div",G,[(r(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-200 hover:scale-100 active:-scale-x-100",onClick:e[2]||(e[2]=i=>x(o).commitProject())},e[6]||(e[6]=[t("path",{d:"M13.25 5a.75.75 0 0 0-.75.75v2.5a.75.75 0 0 0 .75.75.75.75 0 0 0 .75-.75v-2.5a.75.75 0 0 0-.75-.75ZM6 3C4.352 3 3 4.352 3 6v12c0 1.648 1.352 3 3 3h12c1.648 0 3-1.352 3-3V7.5a.75.75 0 0 0-.219-.531l-3.75-3.75A.75.75 0 0 0 16.5 3H6.25zm1 1.5h8a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-.75.75H7a.75.75 0 0 1-.75-.75v-3.5A.75.75 0 0 1 7 4.5Zm0 7.75h10a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-.75.75H7a.75.75 0 0 1-.75-.75v-5a.75.75 0 0 1 .75-.75Z"},null,-1)]))),e[8]||(e[8]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-200 hover:scale-100 active:-scale-x-100"},[t("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),t("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z","clip-rule":"evenodd"})],-1)),(r(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 97.707 95.907",fill:"currentColor","aria-hidden":"true",role:"img",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-200 hover:scale-100 active:-scale-x-100",onClick:e[3]||(e[3]=i=>x(o).pushProject())},e[7]||(e[7]=[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"},null,-1)]))),e[9]||(e[9]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-200 hover:scale-100 active:-scale-x-100"},[t("path",{fill:"currentColor",d:"m12 5c-3.86 0-7 3.14-7 7s3.14 7 7 7 7-3.141 7-7-3.141-7-7-7zm0 11v-8c2.206 0 4 1.794 4 4s-1.794 4-4 4zm-1.5-14.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5zm3 21c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm-10.5-10.5c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm21 0c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm-6-7.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5zm-12 15c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5zm-3-15c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5-.672 1.5-1.5 1.5-1.5-.672-1.5-1.5zm18 15c0 .828-.672 1.5-1.5 1.5s-1.5-.672-1.5-1.5.672-1.5 1.5-1.5 1.5.672 1.5 1.5z"})],-1)),e[10]||(e[10]=t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512",class:"size-6 transform cursor-pointer text-gray-600 transition-transform duration-300 hover:rotate-45 active:animate-spin"},[t("g",null,[t("path",{fill:"currentColor",d:"M34.283,384c17.646,30.626,56.779,41.148,87.405,23.502c0.021-0.012,0.041-0.024,0.062-0.036l9.493-5.483   c17.92,15.332,38.518,27.222,60.757,35.072V448c0,35.346,28.654,64,64,64s64-28.654,64-64v-10.944   c22.242-7.863,42.841-19.767,60.757-35.115l9.536,5.504c30.633,17.673,69.794,7.167,87.467-23.467   c17.673-30.633,7.167-69.794-23.467-87.467l0,0l-9.472-5.461c4.264-23.201,4.264-46.985,0-70.187l9.472-5.461   c30.633-17.673,41.14-56.833,23.467-87.467c-17.673-30.633-56.833-41.14-87.467-23.467l-9.493,5.483   C362.862,94.638,342.25,82.77,320,74.944V64c0-35.346-28.654-64-64-64s-64,28.654-64,64v10.944   c-22.242,7.863-42.841,19.767-60.757,35.115l-9.536-5.525C91.073,86.86,51.913,97.367,34.24,128s-7.167,69.794,23.467,87.467l0,0   l9.472,5.461c-4.264,23.201-4.264,46.985,0,70.187l-9.472,5.461C27.158,314.296,16.686,353.38,34.283,384z M256,170.667   c47.128,0,85.333,38.205,85.333,85.333S303.128,341.333,256,341.333S170.667,303.128,170.667,256S208.872,170.667,256,170.667z"})])],-1))])]))}}),F={class:"text-secondary p-4 text-sm"},J=["onClick"],Q={class:"ml-4 space-y-1"},T={class:"ml-2"},q={class:"cursor-pointer"},I={class:"ml-4 space-y-1"},K=k({__name:"GroupSelector",setup(v){var n;const s=C(),o=(n=$(s).selectedProject.value)==null?void 0:n.views;return(f,c)=>(r(),u("div",F,[(r(!0),u(g,null,y(x(o),(l,e)=>(r(),u("div",{key:e},[t("h2",{class:"mb-2 cursor-pointer text-lg font-semibold",onClick:()=>x(s).setSelectedView(l)},w(l.viewName),9,J),t("ul",Q,[(r(!0),u(g,null,y(l.groups,(i,p)=>(r(),u("li",{key:p},[t("details",T,[t("summary",q,w(i.groupName),1),t("ul",I,[(r(!0),u(g,null,y(i.variables,(a,d)=>(r(),u("li",{key:d},w(a.displayName),1))),128))])])]))),128))])]))),128)),c[0]||(c[0]=t("div",{class:"mt-6 text-xs text-gray-400"},"Manage folders",-1))]))}}),O=k({__name:"Variable",props:{variable:{}},setup(v){return(s,o)=>s.variable.type==="String"?(r(),_(z,{key:0,id:s.variable.displayName,placeholder:s.variable.value.toString(),modelValue:s.variable.value.toString(),"onUpdate:modelValue":o[0]||(o[0]=n=>s.$emit("update:modelValue",n)),onHandleSubmit:o[1]||(o[1]=n=>s.$emit("handleSubmit"))},{default:b(()=>[S(w(s.variable.displayName),1)]),_:1},8,["id","placeholder","modelValue"])):s.variable.type==="Number"?(r(),_(z,{key:1,id:s.variable.displayName,type:"number",placeholder:s.variable.value.toString(),modelValue:s.variable.value.toString(),"onUpdate:modelValue":o[2]||(o[2]=n=>s.$emit("update:variable",n)),onHandleSubmit:o[3]||(o[3]=n=>s.$emit("handleSubmit"))},{default:b(()=>[S(w(s.variable.displayName),1)]),_:1},8,["id","placeholder","modelValue"])):E("",!0)}}),Y={class:"mb-4 text-lg font-semibold"},ee={class:"text-secondary font-bold"},te={class:"my-3 ml-4 flex w-full flex-wrap gap-3"},se=k({__name:"Editor",setup(v){const s=C(),{selectedView:o}=$(s);return(n,f)=>(r(),_(H,{class:"rounded-l-xl"},{default:b(()=>{var c,l;return[t("h2",Y,w((c=x(o))==null?void 0:c.viewName),1),(r(!0),u(g,null,y((l=x(o))==null?void 0:l.groups,(e,i)=>(r(),u("div",{key:i},[t("p",ee,w(e.groupName),1),t("ul",te,[(r(!0),u(g,null,y(e.variables,(p,a)=>(r(),_(O,{key:a,variable:p,"onUpdate:variable":d=>p.value=d},{default:b(()=>[S(" >"+w(p.displayName),1)]),_:2},1032,["variable","onUpdate:variable"]))),128))])]))),128))]}),_:1}))}}),oe={class:"flex flex-1 flex-col"},re={key:0,class:"flex h-full flex-1 items-center justify-center"},le={key:1,class:"mx-4 my-4 flex flex-1 items-stretch"},ne=k({__name:"Dashboard",setup(v){const s=h(""),o=C();L(()=>{o.fetchProjects()});const{projects:n}=$(o),f=h(200),c=h(400),l=h(null);function e(d,m){l.value={col:d,startX:m.clientX,startWidth:d===1?f.value:c.value},document.addEventListener("mousemove",i),document.addEventListener("mouseup",p)}function i(d){if(!l.value)return;const m=d.clientX-l.value.startX;l.value.col===1?f.value=Math.max(100,l.value.startWidth+m):l.value.col===2&&(c.value=Math.max(100,l.value.startWidth+m))}function p(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",p),l.value=null}U(()=>{p()});const a=d=>{s.value=d,console.log("Search query:",s.value)};return(d,m)=>(r(),u("div",oe,[j(R,{onSearch:a}),!x(n)||x(n).length===0?(r(),u("div",re,m[2]||(m[2]=[t("div",null,[t("h2",{class:"text-lg font-semibold"},"No projects available")],-1)]))):(r(),u("div",le,[t("div",{class:"flex flex-shrink-0 overflow-auto",style:V({width:f.value+"px"})},[j(K)],4),t("div",{class:"cursor-col-resize",onMousedown:m[0]||(m[0]=N=>e(1,N)),style:{width:"4px",background:"transparent"}},null,32),t("div",{class:"flex flex-shrink-0 overflow-auto",style:V({width:c.value+"px"})},[j(se)],4),t("div",{class:"cursor-col-resize",onMousedown:m[1]||(m[1]=N=>e(2,N)),style:{width:"4px",background:"transparent"}},null,32),m[3]||(m[3]=t("div",{class:"flex-1 overflow-auto"},[t("iframe",{src:"https://wikipedia.com",class:"h-full w-full rounded-r-xl"})],-1))]))]))}});export{ne as default};
